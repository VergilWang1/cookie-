<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
	<form name="fm" action="#" method="get">
    	账号：<input type="text" name="user"/><span></span><br/>
        密码：<input type="password" name="pwd"/><span></span><br/>
        邮箱：<input type="email" name="email"/><span></span><br/>
        生日：<input type="text" name="birthDay"/><span></span><br/>
        <input type="submit" value="提交"/>
    </form>
</body>
<script type="text/javascript">
	var fm=document.fm;
	var user=document.fm.user;
	var pwd=document.fm.pwd;
	var email1=document.fm.email;
	var birth=document.fm.birthDay;
	var flag=false;
	function checkUser(){
		var a=0;
		var x=/^[a-zA-Z][a-zA-Z0-9]{3,15}$/;
		//alert(user.value)
		if(!x.test(user.value)){
			user.nextElementSibling.innerHTML="用户名是有数字和字母组成的4-16位字符，以字母开头";
			user.nextElementSibling.style.color="red";
			flag=false;	
		}else{
			for(var i=0;i<user.value.length;i++){
				if(!isNaN(user.value.charAt(i))){
					a++;	
				}
			}
			if(a==0){
				user.nextElementSibling.innerHTML="用户名是有数字和字母组成的4-16位字符，以字母开头";
				user.nextElementSibling.style.color="red";	
				flag=false;
			}else{
				user.nextElementSibling.innerHTML="√";
				user.nextElementSibling.style.color="green";	
			}
		}
	}
	function checkPwd(){
		var a=0;
		var x=/^[a-zA-Z0-9]{4,10}$/;
		if(!x.test(pwd.value)){
			pwd.nextElementSibling.innerHTML="密码是有字母和数字组成的4-10位字符";
			pwd.nextElementSibling.style.color="red";	
			flag=false;
		}else{
			for(var i=0;i<pwd.value.length;i++){
				if(pwd.value.charAt(i)>=0){
					a++;	
				}
			}
			if(a==0 || a==pwd.value.length){
				pwd.nextElementSibling.innerHTML="密码是有字母和数字组成的4-10位字符";
				pwd.nextElementSibling.style.color="red";
				flag=false;	
			}else{
				pwd.nextElementSibling.innerHTML="√";
				pwd.nextElementSibling.style.color="green";
				flag=true;		
			}
		}
	}
	function checkEmail(){
		var x=/^[a-zA-Z0-9]+@[a-zA-Z]+\.[a-zA-Z]{2,3}(\.[a-zA-Z]{2,3})?$/;
		if(!x.test(email1.value)){
			email1.nextElementSibling.innerHTML="邮箱格式不对！";
			email1.nextElementSibling.style.color="red";
			flag=false;
		}else{
			email1.nextElementSibling.innerHTML="√";
			email1.nextElementSibling.style.color="green";
			flag=true;	
		}
	}
	function checkBirth(){
		var x=/^(19\d{2}|200\d)-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01])$/;	//1900-2009;
		if(!x.test(birth.value)){
			birth.nextElementSibling.innerHTML="生日格式不对！";
			birth.nextElementSibling.style.color="red";
			flag=false;
		}else{
			birth.nextElementSibling.innerHTML="√";
			birth.nextElementSibling.style.color="green";
			flag=true;	
		}	
	}
	fm.onsubmit=function(){
		checkUser();
		checkPwd();
		checkEmail();
		checkBirth();
		if(flag==true){
			return true;	
		}else{
			return false;	
		}
		
	}
	user.onblur=checkUser;
	pwd.onblur=checkPwd;
	email1.onblur=checkEmail;
	birth.onblur=checkBirth;
</script>
</html>
